---
id: TASK-210
title: Investigate serviceMachineId persistence and usage
status: To Do
assignee: []
created_date: '2026-01-28 06:50'
labels:
  - reverse-engineering
  - fingerprinting
  - api-headers
dependencies:
  - TASK-47
priority: medium
---

## Description

<!-- SECTION:DESCRIPTION:BEGIN -->
The `serviceMachineId` is a separate identifier stored in a `machineid` file within the user data directory:
- Desktop: `userDataPath/machineid`
- Browser: `userRoamingDataHome/machineid`

Generated by `Pft` function (line 352912-352927) using random UUID if not existing.

Key usages:
- Sent as `X-Machine-Id` header to external services (line 353003)
- Used for user data sync machine identification
- Stored in both file and application storage

Investigation should:
1. Document all API endpoints receiving this identifier
2. Analyze how it differs from telemetry machineId
3. Determine its role in anti-abuse detection
4. Document persistence and regeneration scenarios

Source: workbench.desktop.main.js lines 352912-352927, 353003-353006.
<!-- SECTION:DESCRIPTION:END -->
